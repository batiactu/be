var batiactuMobilePush=function(){this.listePush=[];this.registerSuffix=1;this.unRegisterSuffix=1;this.senderID="";this.token="";this.pushNotification=null;if(typeof window.plugins.pushNotification!="undefined"){this.pushNotification=window.plugins.pushNotification}this.genLog=false;this.divLog="#debugPush"};batiactuMobilePush.prototype.setDebug=function(a,b){if(a===true||a===false){this.genLog=a}if(this.genLog&&$(b).length==0){console.log("Attention, l'id : "+b+" n'existe pas, dans le fichier html.")}else{if(this.genLog&&$(b).length>0){this.divLog=b}}};batiactuMobilePush.prototype.getAllNotifications=function(){return this.listePush};batiactuMobilePush.prototype.addNotification=function(a){this.listePush.push(a)};batiactuMobilePush.prototype.is_platform=function(a){var b=device.platform;if(b.toLowerCase()==a){if(this.genLog){this.log("Plateforme "+a,"DEBUG")}return true}return false};batiactuMobilePush.prototype.is_android=function(){return this.is_platform("android")};batiactuMobilePush.prototype.is_ios=function(){return this.is_platform("ios")};batiactuMobilePush.prototype.setPushToken=function(a){if(this.genLog){this.log("Store token","DEBUG")}localStorage.setItem("pushToken",a)};batiactuMobilePush.prototype.getPushToken=function(){var a=localStorage.getItem("pushToken");if(typeof a=="undefined"||a==""){return null}return a};batiactuMobilePush.prototype.registerDeviceAndroid=function(c,b,a){c=window[c];b=window[b];if(typeof c!="function"){console.log("callBackSuccessHandler pas une fonction ")}if(typeof b!="function"){console.log("callBackErrorHandler pas une fonction ")}if(this.genLog){this.log("Plugin Register Android, senderID : "+this.senderID+" appel function : "+a,"DEBUG")}this.pushNotification.register(c,b,{senderID:this.senderID,ecb:a})};batiactuMobilePush.prototype.registerDeviceIos=function(c,b,a){c=window[c];b=window[b];if(this.genLog){this.log("Plugin Register IOS","DEBUG")}this.pushNotification.register(c,b,{badge:"true",sound:"true",alert:"true",ecb:a})};batiactuMobilePush.prototype.registerDevice=function(c,b,a){if(this.is_android()){if(this.registerSuffix){c=c+"Android";b=b+"Android";a=a+"Android"}if(this.genLog){this.log("Register Android ","DEBUG")}this.registerDeviceAndroid(c,b,a);if(this.genLog){this.log("FIN Register Android","DEBUG")}}else{if(this.is_ios()){if(this.registerSuffix){c=c+"IOS";b=b+"IOS";a=a+"IOS"}if(this.genLog){this.log("Register IOS","DEBUG")}this.registerDeviceIos(c,b,a)}}};batiactuMobilePush.prototype.unRegisterDevice=function(b,a){if(this.is_android()){if(this.unRegisterSuffix){b=b+"Android";a=a+"Android"}b=window[b];a=window[a];if(this.genLog){this.log("Unregister Android","DEBUG")}this.pushNotification.unregister(b,a)}else{if(this.is_ios()){if(this.unRegisterSuffix){b=b+"IOS";a=a+"IOS"}b=window[b];a=window[a];if(this.genLog){this.log("Unregister IOS","DEBUG")}this.pushNotification.unregister(b,a)}}};batiactuMobilePush.prototype.log=function(b,a){if(this.genLog){if(typeof a=="undefined"){a="DEBUG"}console.log(a+" : "+b)}};